{"version":3,"sources":["redux/auth/auth-selectors.js","components/Navigation/Navigation.js","images/kitty.png","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/phonebook/phonebook-reducer.js","redux/auth/auth-slice.js","redux/store.js","index.js","redux/auth/auth-operations.js","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","components/AuthNav/AuthNav.module.css","components/Container/Container.js","components/AppBar/AppBar.module.css","components/Container/Container.module.css","redux/phonebook/phonebook-actions.js"],"names":["authSelectors","getIsLoggedIn","state","auth","isLoggedIn","getUserName","user","name","getIsFetchingCurrent","isFetchingCurrentUser","getError","error","Navigation","useSelector","to","exact","className","s","link","activeClassName","activeLink","UserName","dispatch","useDispatch","container","src","avatar","alt","text","Button","button","variant","color","type","size","onClick","authOperations","logOut","AuthNav","AppBar","header","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","LoginView","RegisterView","ContactsView","App","useEffect","fetchCurrentUser","Container","fallback","path","items","createReducer","fetchContactsSuccess","payload","addContactSuccess","deleteContactSuccess","filter","id","changeFilter","loading","fetchContactsRequest","fetchContactsError","addContactRequest","addContactError","deleteContactRequest","deleteContactError","_","combineReducers","authSlice","createSlice","initialState","email","token","isError","extraReducers","register","fulfilled","action","pending","rejected","logIn","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","phonebookReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById","axios","defaults","baseURL","headers","common","Authorization","createAsyncThunk","credentials","a","post","data","toast","operations","thunkAPI","getState","persistedToken","rejectWithValue","get","module","exports","createAction"],"mappings":"yOAceA,EANO,CACpBC,cAToB,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,YAUxCC,YARkB,SAAAH,GAAK,OAAIA,EAAMC,KAAKG,KAAKC,MAS3CC,qBAP2B,SAAAN,GAAK,OAAIA,EAAMC,KAAKM,uBAQ/CC,SANe,SAAAR,GAAK,OAAIA,EAAMC,KAAKQ,Q,wBCuBtBC,EAvBI,WACjB,IAAMR,EAAaS,YAAYb,EAAcC,eAE7C,OACE,gCACE,cAAC,IAAD,CAASa,GAAG,IAAIC,OAAK,EAACC,UAAWC,IAAEC,KAAMC,gBAAiBF,IAAEG,WAA5D,kBAIChB,GACC,cAAC,IAAD,CACEU,GAAG,YACHC,OAAK,EACLC,UAAWC,IAAEC,KACbC,gBAAiBF,IAAEG,WAJrB,0B,yBChBO,MAA0B,kC,SCO1B,SAASC,IACtB,IAAMC,EAAWC,cACXhB,EAAOM,YAAYb,EAAcK,aAEvC,OACE,sBAAKW,UAAWC,IAAEO,UAAlB,UACE,qBAAKC,IAAKC,EAAQC,IAAI,SAASX,UAAWC,IAAES,SAC5C,uBAAMV,UAAWC,IAAEW,KAAnB,sBAAmCrB,EAAnC,QACA,cAACsB,EAAA,EAAD,CACEb,UAAWC,IAAEa,OACbC,QAAQ,YACRC,MAAM,UACNC,KAAK,SACLC,KAAK,SACLC,QAAS,kBAAMb,EAASc,IAAeC,WANzC,wB,qBCXS,SAASC,IACtB,OACE,gCACE,cAAC,IAAD,CACExB,GAAG,YACHC,OAAK,EACLC,UAAWC,IAAEC,KACbC,gBAAiBF,IAAEG,WAJrB,qBASA,cAAC,IAAD,CACEN,GAAG,SACHC,OAAK,EACLC,UAAWC,IAAEC,KACbC,gBAAiBF,IAAEG,WAJrB,uB,qBCTS,SAASmB,IACtB,IAAMnC,EAAaS,YAAYb,EAAcC,eAC7C,OACE,yBAAQe,UAAWC,IAAEuB,OAArB,UACE,cAAC,EAAD,IACCpC,EAAa,cAAC,EAAD,IAAe,cAACkC,EAAD,O,4BCRpB,SAASG,EAAT,GAIX,IAHFC,EAGC,EAHDA,SAGC,IAFDC,kBAEC,MAFY,SAEZ,EADEC,EACF,yCACKxC,EAAaS,YAAYb,EAAcC,eAC7C,OACE,cAAC,IAAD,2BAAW2C,GAAX,aACGxC,EAAasC,EAAW,cAAC,IAAD,CAAU5B,GAAI6B,OCR9B,SAASE,EAAT,GAIX,IAHFH,EAGC,EAHDA,SAGC,IAFDI,kBAEC,SADEF,EACF,yCAEKG,EADalC,YAAYb,EAAcC,gBACR6C,EAErC,OACE,cAAC,IAAD,2BAAWF,GAAX,aACGG,EAAiB,cAAC,IAAD,CAAUjC,GAAG,cAAiB4B,KCJtD,IAAMM,EAAWC,gBAAK,kBAAM,iCACtBC,EAAYD,gBAAK,kBAAM,uDACvBE,EAAeF,gBAAK,kBAAM,uDAC1BG,EAAeH,gBAAK,kBAAM,uDAoDjBI,I,QAAAA,EAlDf,WACE,IAAM/B,EAAWC,cACXd,EAAwBI,YAAYb,EAAcQ,sBAMxD,OAJA8C,qBAAU,WACRhC,EAASc,IAAemB,sBACvB,CAACjC,IAGF,cAACkC,EAAA,EAAD,UACG/C,EACC,2CAEA,qCACE,cAAC8B,EAAD,IACA,cAAC,IAAD,UACE,eAAC,WAAD,CAAUkB,SAAU,0FAApB,UACE,cAACZ,EAAD,CAAa9B,OAAK,EAAC2C,KAAK,IAAxB,SACE,cAACV,EAAD,MAGF,cAACH,EAAD,CACE9B,OAAK,EACL2C,KAAK,YACLZ,YAAU,EACVH,WAAW,YAJb,SAME,cAACQ,EAAD,MAGF,cAACN,EAAD,CACE9B,OAAK,EACL2C,KAAK,SACLZ,YAAU,EACVH,WAAW,YAJb,SAME,cAACO,EAAD,MAGF,cAACT,EAAD,CAAciB,KAAK,YAAYf,WAAW,QAA1C,SACE,cAACS,EAAD,iB,uFCxCVO,EAAQC,YAAc,IAAD,mBACxBC,KAAuB,SAAC3D,EAAD,YAAU4D,WADT,cAExBC,KAAoB,SAAC7D,EAAD,YAAU4D,SAAV,mBAAqC5D,OAFjC,cAGxB8D,KAAuB,SAAC9D,EAAD,OAAU4D,EAAV,EAAUA,QAAV,OACtB5D,EAAM+D,QAAO,qBAAGC,KAAgBJ,QAJT,IAOrBG,EAASL,YAAc,GAAD,eACzBO,KAAe,SAACjE,EAAD,YAAU4D,YAGtBM,GAAUR,aAAc,GAAD,mBAC1BS,KAAuB,kBAAM,KADH,cAE1BR,KAAuB,kBAAM,KAFH,cAG1BS,KAAqB,kBAAM,KAHD,cAI1BC,KAAoB,kBAAM,KAJA,cAK1BR,KAAoB,kBAAM,KALA,cAM1BS,KAAkB,kBAAM,KANE,cAO1BC,KAAuB,kBAAM,KAPH,cAQ1BT,KAAuB,kBAAM,KARH,cAS1BU,KAAqB,kBAAM,KATD,IAYvB/D,GAAQiD,YAAc,MAAD,mBACxBU,KAAqB,SAACK,EAAD,YAAMb,WADH,cAExBU,KAAkB,SAACG,EAAD,YAAMb,WAFA,cAGxBY,KAAqB,SAACC,EAAD,YAAMb,WAHH,cAIxBO,KAAuB,kBAAM,QAJL,cAKxBE,KAAoB,kBAAM,QALF,cAMxBE,KAAuB,kBAAM,QANL,IASZG,eAAgB,CAC7BjB,QACAM,SACAG,WACAzD,WCKakE,GA7CGC,YAAY,CAC5BvE,KAAM,OACNwE,aAVmB,CACnBzE,KAAM,CAAEC,KAAM,KAAMyE,MAAO,MAC3BC,MAAO,KACP7E,YAAY,EACZK,uBAAuB,EACvByE,QAAS,MAMTC,eAAa,mBACV/C,IAAegD,SAASC,WADd,SACyBnF,EAAOoF,GACzCpF,EAAMI,KAAOgF,EAAOxB,QAAQxD,KAC5BJ,EAAM+E,MAAQK,EAAOxB,QAAQmB,MAC7B/E,EAAME,YAAa,KAJV,cAMVgC,IAAegD,SAASG,SANd,SAMuBrF,EAAOoF,GACvCpF,EAAMgF,QAAU,QAPP,cASV9C,IAAegD,SAASI,UATd,SASwBtF,EAAOoF,GACxCpF,EAAMgF,QAAU,uDAVP,cAYV9C,IAAeqD,MAAMJ,WAZX,SAYsBnF,EAAOoF,GACtCpF,EAAMI,KAAOgF,EAAOxB,QAAQxD,KAC5BJ,EAAM+E,MAAQK,EAAOxB,QAAQmB,MAC7B/E,EAAME,YAAa,KAfV,cAiBVgC,IAAeqD,MAAMF,SAjBX,SAiBoBrF,EAAOoF,GACpCpF,EAAMgF,QAAU,QAlBP,cAoBV9C,IAAeqD,MAAMD,UApBX,SAoBqBtF,EAAOoF,GACrCpF,EAAMgF,QAAU,uDArBP,cAuBV9C,IAAeC,OAAOgD,WAvBZ,SAuBuBnF,GAChCA,EAAMI,KAAO,CAAEC,KAAM,KAAMyE,MAAO,MAClC9E,EAAM+E,MAAQ,KACd/E,EAAME,YAAa,KA1BV,cA4BVgC,IAAemB,iBAAiBgC,SA5BtB,SA4B+BrF,GACxCA,EAAMO,uBAAwB,KA7BrB,cA+BV2B,IAAemB,iBAAiB8B,WA/BtB,SA+BiCnF,EAAOoF,GACjDpF,EAAMI,KAAOgF,EAAOxB,QACpB5D,EAAME,YAAa,EACnBF,EAAMO,uBAAwB,KAlCrB,cAoCV2B,IAAemB,iBAAiBiC,UApCtB,SAoCgCtF,GACzCA,EAAMO,uBAAwB,KArCrB,KA0Cf,QCxCMiF,GAAU,sBACXC,YAAqB,CACtBC,kBAAmB,CACjBC,eAAgB,CAACC,IAAOC,IAAWC,IAAOC,IAASC,IAAOC,SAHhD,CAMdC,MAGIC,GAAoB,CACxBC,IAAK,OACLC,YACAC,UAAW,CAAC,UAGDC,GAAQC,YAAe,CAClCC,QAAS,CACPxG,KAAMyG,YAAeP,GAAmBQ,IACxCC,SAAUC,IAEZrB,cACAsB,UAAUC,IAGCC,GAAYC,YAAaV,I,OC9BtCW,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUb,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAarC,QAAS,KAAM8C,UAAWA,GAAvC,SACE,cAAC,IAAD,UACE,cAAC,EAAD,YAKRK,SAASC,eAAe,U,6FChB1BC,IAAMC,SAASC,QAAU,4CAEzB,IAAM1C,EAAQ,SACRA,GACFwC,IAAMC,SAASE,QAAQC,OAAOC,cAA9B,iBAAwD7C,IAFtDA,EAAQ,WAKVwC,IAAMC,SAASE,QAAQC,OAAOC,cAAgB,IAI5C1C,EAAW2C,YAAiB,gBAAD,uCAAkB,WAAMC,GAAN,iBAAAC,EAAA,+EAExBR,IAAMS,KAAK,gBAAiBF,GAFJ,uBAEvCG,EAFuC,EAEvCA,KACRlD,EAAUkD,EAAKlD,OAHgC,kBAIxCkD,GAJwC,gCAM/CC,IAAMzH,MAAM,sBANmC,yDAAlB,uDAU3B8E,EAAQsC,YAAiB,aAAD,uCAAe,WAAMC,GAAN,iBAAAC,EAAA,+EAElBR,IAAMS,KAAK,eAAgBF,GAFT,uBAEjCG,EAFiC,EAEjCA,KACRlD,EAAUkD,EAAKlD,OAH0B,kBAIlCkD,GAJkC,gCAMzCC,IAAMzH,MAAM,sBAN6B,yDAAf,uDAwCxB0H,EAAa,CACjBjD,WACA/C,OAhCa0F,YAAiB,cAAD,sBAAgB,sBAAAE,EAAA,+EAErCR,IAAMS,KAAK,iBAF0B,OAG3CjD,IAH2C,+CAK3CmD,IAAMzH,MAAM,sBAL+B,yDAiC7C8E,QACAlC,iBAzBuBwE,YACvB,eADuC,uCAEvC,WAAOpD,EAAG2D,GAAV,qBAAAL,EAAA,yDACQ/H,EAAQoI,EAASC,WAGA,QAFjBC,EAAiBtI,EAAMC,KAAK8E,OAFpC,yCAKWqD,EAASG,mBALpB,cAQExD,EAAUuD,GARZ,kBAW2Bf,IAAMiB,IAAI,kBAXrC,uBAWYP,EAXZ,EAWYA,KAXZ,kBAYWA,GAZX,kCAcIC,IAAMzH,MAAM,sBAdhB,0DAFuC,0DA2B1B0H,O,mBCtEfM,EAAOC,QAAU,CAAC,KAAO,yBAAyB,WAAa,wD,mBCA/DD,EAAOC,QAAU,CAAC,UAAY,4BAA4B,OAAS,yBAAyB,KAAO,uBAAuB,OAAS,2B,mBCAnID,EAAOC,QAAU,CAAC,KAAO,sBAAsB,WAAa,8B,gCCD5D,iCAOepF,IAJG,SAAC,GAAD,IAAGd,EAAH,EAAGA,SAAH,OAChB,qBAAK1B,UAAWC,IAAEO,UAAlB,SAA8BkB,M,mBCHhCiG,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,UAAY,+B,+BCD9B,+VAEarE,EAAoBsE,YAAa,8BACjC9E,EAAoB8E,YAAa,8BACjCrE,EAAkBqE,YAAa,4BAE/BpE,EAAuBoE,YAClC,iCAEW7E,EAAuB6E,YAClC,iCAEWnE,EAAqBmE,YAAa,+BAElC1E,EAAe0E,YAAa,yBAE5BxE,EAAuBwE,YAClC,iCAEWhF,EAAuBgF,YAClC,iCAEWvE,EAAqBuE,YAAa,iC","file":"static/js/main.7759e371.chunk.js","sourcesContent":["const getIsLoggedIn = state => state.auth.isLoggedIn;\n\nconst getUserName = state => state.auth.user.name;\n\nconst getIsFetchingCurrent = state => state.auth.isFetchingCurrentUser;\n\nconst getError = state => state.auth.error;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUserName,\n  getIsFetchingCurrent,\n  getError,\n};\nexport default authSelectors;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport s from '../Navigation/Navigation.module.css';\n\nconst Navigation = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <nav>\n      <NavLink to=\"/\" exact className={s.link} activeClassName={s.activeLink}>\n        Home\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink\n          to=\"/contacts\"\n          exact\n          className={s.link}\n          activeClassName={s.activeLink}\n        >\n          Contacts\n        </NavLink>\n      )}\n    </nav>\n  );\n};\n\nexport default Navigation;\n","export default __webpack_public_path__ + \"static/media/kitty.666d0813.png\";","import { useSelector, useDispatch } from 'react-redux';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport authOperations from '../../redux/auth/auth-operations';\nimport s from '../UserMenu/UserMenu.module.css';\nimport avatar from '../../images/kitty.png';\nimport Button from '@material-ui/core/Button';\n\nexport default function UserName() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUserName);\n\n  return (\n    <div className={s.container}>\n      <img src={avatar} alt=\"avatar\" className={s.avatar} />\n      <span className={s.text}>Welcome, {name}! </span>\n      <Button\n        className={s.button}\n        variant=\"contained\"\n        color=\"primary\"\n        type=\"submit\"\n        size=\"medium\"\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Log out\n      </Button>\n    </div>\n  );\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from '../AuthNav/AuthNav.module.css';\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        className={s.link}\n        activeClassName={s.activeLink}\n      >\n        Sign up\n      </NavLink>\n\n      <NavLink\n        to=\"/login\"\n        exact\n        className={s.link}\n        activeClassName={s.activeLink}\n      >\n        Log in\n      </NavLink>\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport Navigation from '../Navigation/Navigation';\nimport UserMenu from '../UserMenu/UserMenu';\nimport AuthNav from '../AuthNav/AuthNav';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport s from '../AppBar/AppBar.module.css';\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <header className={s.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/login',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to=\"/contacts\" /> : children}\n    </Route>\n  );\n}\n","import { useEffect, Suspense, lazy } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Switch } from 'react-router-dom';\nimport AppBar from './components/AppBar/AppBar';\nimport Container from './components/Container/Container';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\nimport authSelectors from './redux/auth/auth-selectors';\nimport authOperations from './redux/auth/auth-operations';\n\nconst HomeView = lazy(() => import('./views/HomeView/HomeView'));\nconst LoginView = lazy(() => import('./views/LoginView/LoginView'));\nconst RegisterView = lazy(() => import('./views/RegisterView/RegisterView'));\nconst ContactsView = lazy(() => import('./views/ContactsView/ContactView'));\n\nfunction App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      {isFetchingCurrentUser ? (\n        <h1>Phonebook</h1>\n      ) : (\n        <>\n          <AppBar />\n          <Switch>\n            <Suspense fallback={<p>Загружаем...</p>}>\n              <PublicRoute exact path=\"/\">\n                <HomeView />\n              </PublicRoute>\n\n              <PublicRoute\n                exact\n                path=\"/register\"\n                restricted\n                redirectTo=\"/contacts\"\n              >\n                <RegisterView />\n              </PublicRoute>\n\n              <PublicRoute\n                exact\n                path=\"/login\"\n                restricted\n                redirectTo=\"/contacts\"\n              >\n                <LoginView />\n              </PublicRoute>\n\n              <PrivateRoute path=\"/contacts\" redirectTo=\"login\">\n                <ContactsView />\n              </PrivateRoute>\n            </Suspense>\n          </Switch>\n        </>\n      )}\n    </Container>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter,\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n} from './phonebook-actions';\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (state, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [payload, ...state],\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (state, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsSuccess]: () => false,\n  [fetchContactsError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst error = createReducer(null, {\n  [fetchContactsError]: (_, { payload }) => payload,\n  [addContactError]: (_, { payload }) => payload,\n  [deleteContactError]: (_, { payload }) => payload,\n  [fetchContactsRequest]: () => null,\n  [addContactRequest]: () => null,\n  [deleteContactRequest]: () => null,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  error,\n});\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n  isError: null,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.register.pending](state, action) {\n      state.isError = null;\n    },\n    [authOperations.register.rejected](state, action) {\n      state.isError = 'Registration has been rejected. Please try again.';\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.pending](state, action) {\n      state.isError = null;\n    },\n    [authOperations.logIn.rejected](state, action) {\n      state.isError = 'Registration has been rejected. Please try again.';\n    },\n    [authOperations.logOut.fulfilled](state) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrentUser = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isFetchingCurrentUser = false;\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrentUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport phonebookReducer from './phonebook/phonebook-reducer';\nimport authReducer from '../redux/auth/auth-slice';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: phonebookReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/store';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com/';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = createAsyncThunk('auth/register', async credentials => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    toast.error('Something wrong :(');\n  }\n});\n\nconst logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    toast.error('Something wrong :(');\n  }\n});\n\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n  } catch (error) {\n    toast.error('Something wrong :(');\n  }\n});\n\nconst fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      toast.error('Something wrong :(');\n    }\n  },\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__12o2K\",\"activeLink\":\"Navigation_activeLink__2rUFB Navigation_link__12o2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__GgYhE\",\"avatar\":\"UserMenu_avatar__2e7Jj\",\"text\":\"UserMenu_text__3m5R_\",\"button\":\"UserMenu_button__3mTE-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__2ejsg\",\"activeLink\":\"AuthNav_activeLink__3huQJ\"};","import React from 'react';\nimport s from '../Container/Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nexport default Container;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1Yk8v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const changeFilter = createAction('contacts/changeFilter');\n\nexport const fetchContactsRequest = createAction(\n  'contacts/fetchContactsRequest',\n);\nexport const fetchContactsSuccess = createAction(\n  'contacts/fetchContactsSuccess',\n);\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\n"],"sourceRoot":""}